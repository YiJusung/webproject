# ì´ì „ ì‹œê°„ëŒ€ ë°ì´í„° í™œìš© ê¸°ëŠ¥ ì•„ì´ë””ì–´

## í˜„ì¬ ì €ì¥ëœ ì‹œê°„ëŒ€ë³„ ë°ì´í„°

1. **CollectedItem**: `collected_at` (ìˆ˜ì§‘ ì‹œê°„), `extra_data` (upvotes, views, comments ë“±)
2. **AnalysisResult**: `analyzed_at` (ë¶„ì„ ì‹œê°„), `importance_score`, `sentiment` ë“±
3. **IssueRanking**: `period_start`, `period_end` (ë­í‚¹ ê¸°ê°„), `rank`, `score`, `mention_count` (ê´€ì‹¬ë„)

---

## ì¶”ì²œ ê¸°ëŠ¥ ì•„ì´ë””ì–´

### 1. ğŸ“ˆ íŠ¸ë Œë“œ ë³€í™”ìœ¨ ê³„ì‚° ë° í‘œì‹œ
**ì„¤ëª…**: ì´ì „ 5ë¶„ ëŒ€ë¹„ í˜„ì¬ ê´€ì‹¬ë„ ë³€í™”ìœ¨ì„ ê³„ì‚°í•˜ì—¬ ê¸‰ìƒìŠ¹/ê¸‰í•˜ë½ íŠ¸ë Œë“œë¥¼ í‘œì‹œ

**êµ¬í˜„ ë°©ë²•**:
- ì´ì „ `IssueRanking` ë ˆì½”ë“œì™€ í˜„ì¬ ë­í‚¹ ë¹„êµ
- ë³€í™”ìœ¨ = (í˜„ì¬ ê´€ì‹¬ë„ - ì´ì „ ê´€ì‹¬ë„) / ì´ì „ ê´€ì‹¬ë„ Ã— 100
- ê¸‰ìƒìŠ¹: +50% ì´ìƒ, ê¸‰í•˜ë½: -30% ì´ìƒ

**UI í‘œì‹œ**:
- íŠ¸ë Œë“œ ì¹´ë“œì— í™”ì‚´í‘œ ì•„ì´ì½˜ê³¼ ë³€í™”ìœ¨ í‘œì‹œ
- ìƒ‰ìƒ: ìƒìŠ¹(ë¹¨ê°•), í•˜ë½(íŒŒë‘), ìœ ì§€(íšŒìƒ‰)

**API ì—”ë“œí¬ì¸íŠ¸**:
```
GET /api/rankings?include_trend_change=true
```

---

### 2. ğŸ”¥ ê¸‰ìƒìŠ¹ íŠ¸ë Œë“œ ì•Œë¦¼
**ì„¤ëª…**: ì´ì „ ì‹œê°„ëŒ€ ëŒ€ë¹„ ê¸‰ê²©íˆ ìƒìŠ¹í•œ íŠ¸ë Œë“œë¥¼ ë³„ë„ë¡œ í‘œì‹œ

**êµ¬í˜„ ë°©ë²•**:
- ìµœê·¼ 3ê°œ ë­í‚¹ ì£¼ê¸°(15ë¶„) ë¹„êµ
- ê´€ì‹¬ë„ê°€ 2ë°° ì´ìƒ ì¦ê°€í•œ íŠ¸ë Œë“œ ê°ì§€
- ìˆœìœ„ê°€ 5ê³„ë‹¨ ì´ìƒ ìƒìŠ¹í•œ íŠ¸ë Œë“œ ê°ì§€

**UI í‘œì‹œ**:
- ë©”ì¸ í˜ì´ì§€ ìƒë‹¨ì— "ğŸ”¥ ê¸‰ìƒìŠ¹ íŠ¸ë Œë“œ" ì„¹ì…˜ ì¶”ê°€
- ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ë¡œ ì£¼ëª©ë„ í–¥ìƒ

---

### 3. ğŸ“Š íŠ¸ë Œë“œ ì§€ì†ì„± ë¶„ì„
**ì„¤ëª…**: íŠ¸ë Œë“œê°€ ì–¼ë§ˆë‚˜ ì˜¤ë˜ ìƒìœ„ê¶Œì— ë¨¸ë¬¼ë €ëŠ”ì§€ ë¶„ì„

**êµ¬í˜„ ë°©ë²•**:
- ìµœê·¼ 24ì‹œê°„(48ê°œ ë­í‚¹ ì£¼ê¸°) ë™ì•ˆì˜ ë­í‚¹ íˆìŠ¤í† ë¦¬ ë¶„ì„
- ìƒìœ„ 10ìœ„ì— ë¨¸ë¬¸ ì‹œê°„ ë¹„ìœ¨ ê³„ì‚°
- ì§€ì†ì„± ì ìˆ˜ = (ìƒìœ„ 10ìœ„ ë¨¸ë¬¸ íšŸìˆ˜ / ì „ì²´ ë­í‚¹ íšŸìˆ˜) Ã— 100

**UI í‘œì‹œ**:
- íŠ¸ë Œë“œ ì¹´ë“œì— "ì§€ì†ì„±: 85%" í‘œì‹œ
- ë†’ì€ ì§€ì†ì„± íŠ¸ë Œë“œëŠ” ë³„ë„ ë°°ì§€ í‘œì‹œ

---

### 4. ğŸ“… ì‹œê°„ëŒ€ë³„ ë¹„êµ ë¶„ì„
**ì„¤ëª…**: ì–´ì œ ê°™ì€ ì‹œê°„, ì´ë²ˆ ì£¼ ê°™ì€ ìš”ì¼ê³¼ ë¹„êµ

**êµ¬í˜„ ë°©ë²•**:
- 24ì‹œê°„ ì „, 7ì¼ ì „, 30ì¼ ì „ ë­í‚¹ ë°ì´í„° ì¡°íšŒ
- ê°™ì€ í† í”½ì˜ ê´€ì‹¬ë„ ë³€í™” ì¶”ì´ ë¶„ì„
- ì£¼ê¸°ì  íŒ¨í„´ ê°ì§€ (ì˜ˆ: ì£¼ë§ì— ë†’ì€ ê´€ì‹¬ë„)

**UI í‘œì‹œ**:
- ìƒì„¸ ëª¨ë‹¬ì— "ì–´ì œ ì´ ì‹œê°„" vs "í˜„ì¬" ë¹„êµ ì°¨íŠ¸
- "ì´ë²ˆ ì£¼ vs ì§€ë‚œ ì£¼" ë¹„êµ ì„¹ì…˜

**API ì—”ë“œí¬ì¸íŠ¸**:
```
GET /api/trends/{topic}/history?compare=24h|7d|30d
```

---

### 5. ğŸ¯ íŠ¸ë Œë“œ ì˜ˆì¸¡ ê¸°ëŠ¥
**ì„¤ëª…**: ê³¼ê±° íŒ¨í„´ì„ ê¸°ë°˜ìœ¼ë¡œ í–¥í›„ ê´€ì‹¬ë„ ì˜ˆì¸¡

**êµ¬í˜„ ë°©ë²•**:
- ìµœê·¼ 1ì‹œê°„(12ê°œ ë­í‚¹ ì£¼ê¸°) ë°ì´í„°ë¡œ ì„ í˜•/ì§€ìˆ˜ ì¶”ì„¸ ë¶„ì„
- ì´ë™ í‰ê· ì„ ì‚¬ìš©í•œ ë‹¨ê¸° ì˜ˆì¸¡
- AIë¥¼ í™œìš©í•œ íŒ¨í„´ ê¸°ë°˜ ì˜ˆì¸¡ (ì„ íƒì )

**UI í‘œì‹œ**:
- ê·¸ë˜í”„ì— ì˜ˆì¸¡ êµ¬ê°„ í‘œì‹œ (ì ì„ )
- "ì˜ˆìƒ ê´€ì‹¬ë„: 2.5M (1ì‹œê°„ í›„)" í‘œì‹œ

---

### 6. ğŸ”„ íŠ¸ë Œë“œ ë¼ì´í”„ì‚¬ì´í´ ë¶„ì„
**ì„¤ëª…**: íŠ¸ë Œë“œê°€ ë“±ì¥ â†’ ì„±ì¥ â†’ ì •ì  â†’ ì‡ í‡´í•˜ëŠ” ê³¼ì • ì¶”ì 

**êµ¬í˜„ ë°©ë²•**:
- íŠ¸ë Œë“œê°€ ì²˜ìŒ ë“±ì¥í•œ ì‹œê°„ ê¸°ë¡
- ê´€ì‹¬ë„ê°€ ì •ì ì— ë„ë‹¬í•œ ì‹œê°„ ê¸°ë¡
- í˜„ì¬ ë‹¨ê³„ íŒë‹¨ (ì„±ì¥/ì •ì /ì‡ í‡´)

**UI í‘œì‹œ**:
- íŠ¸ë Œë“œ ì¹´ë“œì— ë¼ì´í”„ì‚¬ì´í´ ë‹¨ê³„ í‘œì‹œ
- "ì‹ ê·œ", "ì„±ì¥", "ì •ì ", "ì‡ í‡´" ë°°ì§€

---

### 7. ğŸ“‰ ê¸‰í•˜ë½ íŠ¸ë Œë“œ ê°ì§€
**ì„¤ëª…**: ê¸‰ê²©íˆ ê´€ì‹¬ë„ê°€ ë–¨ì–´ì§„ íŠ¸ë Œë“œ ê°ì§€ (ê´€ì‹¬ ì´ìŠˆ ëª¨ë‹ˆí„°ë§)

**êµ¬í˜„ ë°©ë²•**:
- ì´ì „ ì‹œê°„ëŒ€ ëŒ€ë¹„ ê´€ì‹¬ë„ê°€ 50% ì´ìƒ ê°ì†Œ
- ìˆœìœ„ê°€ 5ê³„ë‹¨ ì´ìƒ í•˜ë½
- ìµœê·¼ 1ì‹œê°„ ë™ì•ˆ ì§€ì†ì ì¸ í•˜ë½ ì¶”ì„¸

**UI í‘œì‹œ**:
- "âš ï¸ ê¸‰í•˜ë½ íŠ¸ë Œë“œ" ì„¹ì…˜
- í•˜ë½ ì›ì¸ ë¶„ì„ (ë‹¤ë¥¸ íŠ¸ë Œë“œë¡œ ê´€ì‹¬ ì´ì „ ë“±)

---

### 8. ğŸª íŠ¸ë Œë“œ ì¬ë“±ì¥ ê°ì§€
**ì„¤ëª…**: ê³¼ê±°ì— ì¸ê¸°ì˜€ë˜ íŠ¸ë Œë“œê°€ ë‹¤ì‹œ ìƒìŠ¹í•˜ëŠ” ê²½ìš° ê°ì§€

**êµ¬í˜„ ë°©ë²•**:
- ìµœê·¼ 7ì¼ ë™ì•ˆ ìƒìœ„ 10ìœ„ì— ì—†ì—ˆë˜ íŠ¸ë Œë“œ
- í˜„ì¬ ë‹¤ì‹œ ìƒìœ„ 10ìœ„ì— ì§„ì…
- ê³¼ê±° ìµœê³  ê´€ì‹¬ë„ì™€ ë¹„êµ

**UI í‘œì‹œ**:
- "ğŸ”„ ì¬ë“±ì¥ íŠ¸ë Œë“œ" ë°°ì§€
- "7ì¼ ë§Œì— ì¬ë“±ì¥" ê°™ì€ ì„¤ëª… ì¶”ê°€

---

### 9. ğŸ“Š ì†ŒìŠ¤ë³„ íŠ¸ë Œë“œ ë³€í™” ë¶„ì„
**ì„¤ëª…**: ê° ì†ŒìŠ¤(Reddit, News, GitHub, YouTube)ë³„ë¡œ íŠ¸ë Œë“œê°€ ì–´ë–»ê²Œ ë³€í™”í–ˆëŠ”ì§€ ë¶„ì„

**êµ¬í˜„ ë°©ë²•**:
- ì‹œê°„ëŒ€ë³„ ì†ŒìŠ¤ë³„ ê´€ì‹¬ë„ ë¶„í¬ ì¶”ì 
- íŠ¹ì • ì†ŒìŠ¤ì—ì„œ ê¸‰ìƒìŠ¹í•œ íŠ¸ë Œë“œ ê°ì§€
- ì†ŒìŠ¤ ê°„ ê´€ì‹¬ë„ ì´ë™ íŒ¨í„´ ë¶„ì„

**UI í‘œì‹œ**:
- ìƒì„¸ ëª¨ë‹¬ì— ì†ŒìŠ¤ë³„ ê´€ì‹¬ë„ ì¶”ì´ ì°¨íŠ¸
- "Redditì—ì„œ ì‹œì‘ â†’ Newsë¡œ í™•ì‚°" ê°™ì€ ì„¤ëª…

---

### 10. ğŸ¨ íŠ¸ë Œë“œ íˆíŠ¸ë§µ
**ì„¤ëª…**: ì‹œê°„ëŒ€ë³„ íŠ¸ë Œë“œ ê´€ì‹¬ë„ë¥¼ íˆíŠ¸ë§µìœ¼ë¡œ ì‹œê°í™”

**êµ¬í˜„ ë°©ë²•**:
- ìµœê·¼ 24ì‹œê°„ì„ 5ë¶„ ë‹¨ìœ„ë¡œ ë‚˜ëˆ” (288ê°œ êµ¬ê°„)
- ê° êµ¬ê°„ë³„ ìƒìœ„ 10ê°œ íŠ¸ë Œë“œì˜ ê´€ì‹¬ë„ ë§¤í•‘
- ìƒ‰ìƒ ê°•ë„ë¡œ ê´€ì‹¬ë„ í‘œí˜„

**UI í‘œì‹œ**:
- íˆíŠ¸ë§µ ì°¨íŠ¸ ì¶”ê°€
- ì‹œê°„ëŒ€ë³„ë¡œ ì–´ë–¤ íŠ¸ë Œë“œê°€ í™œë°œí–ˆëŠ”ì§€ í•œëˆˆì— íŒŒì•…

---

## êµ¬í˜„ ìš°ì„ ìˆœìœ„ ì¶”ì²œ

### Phase 1 (ì¦‰ì‹œ êµ¬í˜„ ê°€ëŠ¥, ë†’ì€ ê°€ì¹˜)
1. âœ… **íŠ¸ë Œë“œ ë³€í™”ìœ¨ ê³„ì‚°** - ì´ì „ ë­í‚¹ê³¼ ë¹„êµí•˜ì—¬ ë³€í™”ìœ¨ í‘œì‹œ
2. âœ… **ê¸‰ìƒìŠ¹ íŠ¸ë Œë“œ ì•Œë¦¼** - ê¸‰ê²©íˆ ìƒìŠ¹í•œ íŠ¸ë Œë“œ ê°•ì¡°
3. âœ… **íŠ¸ë Œë“œ ì§€ì†ì„± ë¶„ì„** - ìƒìœ„ê¶Œ ë¨¸ë¬¸ ì‹œê°„ ë¶„ì„

### Phase 2 (ì¤‘ê°„ ë‚œì´ë„, ë†’ì€ ê°€ì¹˜)
4. âœ… **ì‹œê°„ëŒ€ë³„ ë¹„êµ ë¶„ì„** - ì–´ì œ/ì´ë²ˆ ì£¼ ë¹„êµ
5. âœ… **íŠ¸ë Œë“œ ë¼ì´í”„ì‚¬ì´í´ ë¶„ì„** - ë‹¨ê³„ë³„ ì¶”ì 

### Phase 3 (ê³ ê¸‰ ê¸°ëŠ¥)
6. âœ… **íŠ¸ë Œë“œ ì˜ˆì¸¡ ê¸°ëŠ¥** - AI ê¸°ë°˜ ì˜ˆì¸¡
7. âœ… **íŠ¸ë Œë“œ íˆíŠ¸ë§µ** - ì‹œê°í™” ê°•í™”

---

## êµ¬í˜„ ì˜ˆì‹œ ì½”ë“œ êµ¬ì¡°

### 1. íŠ¸ë Œë“œ ë³€í™”ìœ¨ ê³„ì‚° í•¨ìˆ˜
```python
async def calculate_trend_change(current_ranking: IssueRanking, previous_ranking: IssueRanking) -> Dict:
    change_rate = ((current_ranking.mention_count - previous_ranking.mention_count) / previous_ranking.mention_count) * 100
    rank_change = previous_ranking.rank - current_ranking.rank  # ì–‘ìˆ˜ë©´ ìƒìŠ¹
    
    return {
        'interest_change_rate': change_rate,
        'rank_change': rank_change,
        'trend_direction': 'up' if change_rate > 10 else ('down' if change_rate < -10 else 'stable')
    }
```

### 2. ê¸‰ìƒìŠ¹ íŠ¸ë Œë“œ ê°ì§€ í•¨ìˆ˜
```python
async def detect_surge_trends(limit: int = 5) -> List[Dict]:
    # ìµœê·¼ 3ê°œ ë­í‚¹ ì£¼ê¸° ë¹„êµ
    # ê´€ì‹¬ë„ 2ë°° ì´ìƒ ì¦ê°€ ë˜ëŠ” ìˆœìœ„ 5ê³„ë‹¨ ì´ìƒ ìƒìŠ¹
```

### 3. íŠ¸ë Œë“œ ì§€ì†ì„± ë¶„ì„ í•¨ìˆ˜
```python
async def analyze_trend_persistence(topic: str, hours: int = 24) -> Dict:
    # ìµœê·¼ 24ì‹œê°„ ë™ì•ˆ ìƒìœ„ 10ìœ„ì— ë¨¸ë¬¸ ë¹„ìœ¨ ê³„ì‚°
```

---

## ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ì˜ˆì‹œ

### ì´ì „ ë­í‚¹ ì¡°íšŒ
```python
previous_ranking = await session.execute(
    select(IssueRanking)
    .where(IssueRanking.topic == current_topic)
    .where(IssueRanking.period_end < current_period_start)
    .order_by(desc(IssueRanking.period_end))
    .limit(1)
)
```

### ì‹œê°„ëŒ€ë³„ ê´€ì‹¬ë„ ì¶”ì´ ì¡°íšŒ
```python
historical_rankings = await session.execute(
    select(IssueRanking)
    .where(IssueRanking.topic == topic)
    .where(IssueRanking.period_end >= datetime.now() - timedelta(hours=24))
    .order_by(IssueRanking.period_end)
)
```

